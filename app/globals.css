@import "tailwindcss";
@import "leaflet/dist/leaflet.css";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: #0f172a;
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Prevent layout shift when scrollbar appears/disappears */
html {
  scrollbar-gutter: stable;
}

/* Hide number input spinners globally */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
}

html {
  background: #0f172a;
}

/* Select dropdown styling - remove native arrow and add custom arrow for all selects */
select {
  appearance: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  padding-right: 2.5rem !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
  background-position: right 0.75rem center;
  background-repeat: no-repeat;
  background-size: 1.25rem 1.25rem;
}

/* Select without arrow - for compact unit selectors */
select.select-no-arrow {
  background-image: none !important;
  padding-right: 0.75rem !important;
}

/* Toast notification animation */
@keyframes slide-up {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

/* Print Styles */
@media print {
  /* Force white background and black text for print */
  html, body {
    background: white !important;
    color: black !important;
  }

  /* Add padding at bottom for fixed footer */
  body {
    padding-bottom: 3rem !important;
  }

  /* Hide navigation and buttons, but keep footer */
  nav,
  button,
  .print\:hidden {
    display: none !important;
  }

  /* Footer configuration - repeat on every page */
  .print-footer {
    display: block !important;
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    margin: 0 !important;
    padding: 0.5rem 1rem !important;
    background: white !important;
    border-top: 1px solid #ddd !important;
  }

  /* Hide footer for single-page layouts (distance calculator) */
  .print-hide-footer ~ footer,
  .print-hide-footer ~ * footer {
    display: none !important;
  }

  /* Remove bottom padding when footer is hidden */
  body:has(.print-hide-footer) {
    padding-bottom: 0 !important;
  }

  /* Make footer text smaller and black */
  .print-footer * {
    font-size: 0.7rem !important;
    color: black !important;
  }

  /* Hide social links in footer */
  .print-footer a {
    display: none !important;
  }

  /* Hide waypoints and compass deviation in print - make it very specific */
  .print-hide-waypoints,
  .print-hide-compass-deviation,
  label.print-hide-waypoints,
  button.print-hide-waypoints,
  label.print-hide-compass-deviation,
  button.print-hide-compass-deviation {
    display: none !important;
    visibility: hidden !important;
  }

  /* Vertical layout for input sections */
  .course-speed-inputs > h3,
  .wind-inputs > h3,
  .corrections-inputs > h3,
  .range-fuel-inputs > h3,
  .flight-params-inputs > h3,
  .climb-data > h3,
  .descent-data > h3 {
    margin-bottom: 0.5rem !important;
  }

  /* Make all grids use 2-column layout: label + input (fixed widths) */
  .course-speed-inputs > .grid,
  .wind-inputs > .grid,
  .corrections-inputs > .grid,
  .flight-params-inputs > .grid,
  .climb-data > .grid,
  .descent-data > .grid,
  .additional-fuel > .grid,
  .leg-distance-waypoints > .grid,
  .fuel-consumption > .grid {
    display: grid !important;
    grid-template-columns: 10rem auto !important;
    gap: 0.5rem 1rem !important;
    align-items: center !important;
  }

  /* Hide gap spacer columns in print */
  .course-speed-inputs .grid > div.hidden,
  .wind-inputs .grid > div.hidden,
  .corrections-inputs .grid > div.hidden,
  .flight-params-inputs .grid > div.hidden,
  .climb-data .grid > div.hidden,
  .descent-data .grid > div.hidden,
  .additional-fuel .grid > div.hidden,
  .range-fuel-inputs .grid > div.hidden,
  .leg-distance-waypoints .grid > div.hidden,
  .fuel-consumption .grid > div.hidden {
    display: none !important;
  }

  /* Nested grids (input+select containers) should display as flex with fixed widths */
  .course-speed-inputs .grid .grid,
  .wind-inputs .grid .grid,
  .corrections-inputs .grid .grid,
  .flight-params-inputs .grid .grid,
  .fuel-consumption .grid .grid {
    display: flex !important;
    gap: 0.5rem !important;
    align-items: center !important;
    width: 9.6rem !important; /* 4.6rem input + 0.5rem gap + 4.5rem select */
  }

  /* Climb and descent wind inputs - compact horizontal layout */
  .climb-data > .grid > div.grid,
  .descent-data > .grid > div.grid {
    display: flex !important;
    gap: 0.5rem !important;
    align-items: center !important;
  }

  /* Relative containers for climb/descent wind inputs */
  .climb-data > .grid > div.grid > div.relative,
  .descent-data > .grid > div.grid > div.relative {
    flex-shrink: 0 !important;
  }

  /* First input (direction) - 4rem for print */
  .climb-data > .grid > div.grid > div.relative:first-child,
  .descent-data > .grid > div.grid > div.relative:first-child {
    width: 4rem !important;
  }

  /* Second input (speed) - 5.5rem for print (4rem + 0.5rem gap + 5.5rem = 10rem total) */
  .climb-data > .grid > div.grid > div.relative:last-child,
  .descent-data > .grid > div.grid > div.relative:last-child {
    width: 5.5rem !important;
  }

  .course-speed-inputs .grid .grid > *,
  .wind-inputs .grid .grid > *,
  .corrections-inputs .grid .grid > *,
  .flight-params-inputs .grid .grid > *,
  .climb-data .grid .grid > *,
  .descent-data .grid .grid > *,
  .additional-fuel .grid .grid > *,
  .leg-distance-waypoints .grid .grid > *,
  .fuel-consumption .grid .grid > * {
    margin: 0 !important;
    flex-shrink: 0 !important;
  }

  .course-speed-inputs .grid .grid input,
  .fuel-consumption .grid .grid input {
    width: 4.6rem !important;
  }

  .course-speed-inputs .grid .grid select,
  .fuel-consumption .grid .grid select {
    width: 4.5rem !important;
  }

  /* Inputs inside relative containers for climb/descent winds - full width of container */
  .climb-data > .grid > div.grid > div.relative input,
  .descent-data > .grid > div.grid > div.relative input {
    width: 100% !important;
  }

  /* Padding on wind direction input (has ° symbol with right-4) - pr-6 = 1.5rem */
  .climb-data > .grid > div.grid > div.relative:first-child input,
  .descent-data > .grid > div.grid > div.relative:first-child input {
    padding-right: 1.5rem !important;
  }

  /* Normal padding on wind speed input (has KT) */
  .climb-data > .grid > div.grid > div.relative:last-child input,
  .descent-data > .grid > div.grid > div.relative:last-child input {
    padding-right: 2rem !important;
  }

  /* Position degree symbol at right-4 (1rem) */
  .climb-data > .grid > div.grid > div.relative:first-child .absolute,
  .descent-data > .grid > div.grid > div.relative:first-child .absolute {
    right: 1rem !important;
  }

  /* Position KT at right-4 (1rem) */
  .climb-data > .grid > div.grid > div.relative:last-child .absolute,
  .descent-data > .grid > div.grid > div.relative:last-child .absolute {
    right: 1rem !important;
  }

  /* Labels should take first column - all same width */
  .course-speed-inputs .grid > label,
  .wind-inputs .grid > label,
  .corrections-inputs .grid > label,
  .flight-params-inputs .grid > label,
  .climb-data .grid > label,
  .descent-data .grid > label,
  .additional-fuel .grid > label,
  .leg-distance-waypoints .grid > label,
  .fuel-consumption .grid > label {
    display: flex !important;
    align-items: center !important;
    margin: 0 !important;
    width: 10rem !important;
  }

  /* Input containers with relative positioning (for absolute units) */
  .course-speed-inputs .grid > div.relative,
  .wind-inputs .grid > div.relative,
  .corrections-inputs .grid > div.relative,
  .flight-params-inputs .grid > div.relative,
  .climb-data .grid > div.relative,
  .descent-data .grid > div.relative,
  .additional-fuel .grid > div.relative,
  .leg-distance-waypoints .grid > div.relative {
    width: 9.6rem !important;
    margin: 0 !important;
  }

  /* Inputs inside relative containers should be full width of container */
  .course-speed-inputs .grid > div.relative input,
  .wind-inputs .grid > div.relative input,
  .corrections-inputs .grid > div.relative input,
  .flight-params-inputs .grid > div.relative input,
  .climb-data .grid > div.relative input,
  .descent-data .grid > div.relative input,
  .additional-fuel .grid > div.relative input,
  .leg-distance-waypoints .grid > div.relative input {
    width: 100% !important;
  }

  /* Other input containers (non-relative, non-nested-grid) */
  .course-speed-inputs .grid > div:not(.hidden):not(.relative):not([class*="grid-cols"]),
  .wind-inputs .grid > div:not(.hidden):not(.relative):not([class*="grid-cols"]),
  .corrections-inputs .grid > div:not(.hidden):not(.relative):not([class*="grid-cols"]),
  .flight-params-inputs .grid > div:not(.hidden):not(.relative):not([class*="grid-cols"]),
  .climb-data .grid > div:not(.hidden):not(.relative):not([class*="grid-cols"]),
  .descent-data .grid > div:not(.hidden):not(.relative):not([class*="grid-cols"]),
  .leg-distance-waypoints .grid > div:not(.hidden):not(.relative):not([class*="grid-cols"]) {
    display: block !important;
    width: 9.6rem !important;
    margin: 0 !important;
  }

  /* Direct input children (without wrapper div) */
  .course-speed-inputs .grid > input,
  .wind-inputs .grid > input,
  .corrections-inputs .grid > input,
  .flight-params-inputs .grid > input,
  .climb-data .grid > input,
  .descent-data .grid > input,
  .leg-distance-waypoints .grid > input {
    display: block !important;
    width: 9.6rem !important;
    margin: 0 !important;
  }

  /* Relative containers (inputs with absolute positioned units) */
  .relative {
    position: relative !important;
  }

  .relative input {
    width: 100% !important;
  }

  /* Selects (unit selectors) - only apply to those inside nested grids */
  .course-speed-inputs .grid .grid select,
  .wind-inputs .grid .grid select,
  .corrections-inputs .grid .grid select,
  .flight-params-inputs .grid .grid select,
  .climb-data .grid .grid select,
  .descent-data .grid .grid select,
  .fuel-consumption .grid .grid select {
    width: 4.5rem !important;
  }

  /* Reduce padding on inputs for print */
  input {
    padding: 0.5rem 0.75rem !important;
  }

  /* Select padding for print - more on right for arrow */
  select {
    padding: 0.5rem 2rem 0.5rem 0.75rem !important;
  }

  /* Inputs with absolute positioned units - reduce right padding and move units closer */
  .relative input {
    padding-right: 2rem !important;
  }

  /* Absolute positioned units (°, KT, NM, etc) - move closer to text */
  .absolute.right-4 {
    right: 0.5rem !important;
  }

  /* Hide 24H label in departure time - target the departure time input specifically */
  .flight-params-inputs .grid > label:first-child + .relative .absolute {
    display: none !important;
  }

  /* Reduce right padding on departure time input since 24H is hidden */
  .flight-params-inputs .grid > label:first-child + .relative input {
    padding-right: 0.75rem !important;
  }

  /* Add more right padding to Previous Fuel Used input for better spacing with unit */
  .flight-params-inputs .grid > div.relative:last-child input {
    padding-right: 2.5rem !important;
  }

  /* Add more right padding to Climb Fuel Used input for better spacing with unit */
  /* Target by looking for inputs with pr-14 class inside climb-data relative containers */
  .climb-data div.relative input[class*="pr-14"] {
    padding-right: 2.5rem !important;
  }

  /* Backup selector for all climb-data relative inputs that aren't the first two */
  .climb-data .grid > div.relative ~ div.relative ~ div.relative input {
    padding-right: 2.5rem !important;
  }

  /* Add more right padding to Descent Fuel Used input for better spacing with unit */
  /* Target by looking for inputs with pr-14 class inside descent-data relative containers */
  .descent-data div.relative input[class*="pr-14"] {
    padding-right: 2.5rem !important;
  }

  /* Backup selector for all descent-data relative inputs that aren't the first two */
  .descent-data .grid > div.relative ~ div.relative ~ div.relative input {
    padding-right: 2.5rem !important;
  }

  /* Add more right padding to Approach & Landing Fuel input for better spacing with GAL unit */
  .additional-fuel div.relative input[class*="pr-14"] {
    padding-right: 2.5rem !important;
  }

  /* Reduce right padding for inputs with degree symbol (°) - closer spacing */
  /* True Course in course-speed-inputs */
  .course-speed-inputs .grid > div.relative:first-of-type input {
    padding-right: 1.5rem !important;
  }

  /* Wind Direction in wind-inputs (first relative div) */
  .wind-inputs .grid > div.relative:first-of-type input {
    padding-right: 1.5rem !important;
  }

  /* Magnetic Deviation in corrections-inputs */
  .corrections-inputs .grid > div.relative input {
    padding-right: 1.5rem !important;
  }

  /* Range & Fuel special handling */
  .range-fuel-inputs > div.grid {
    display: block !important;
    grid-template-columns: none !important;
  }

  .range-fuel-inputs label:not(.print-hide-waypoints) {
    display: inline-block !important;
    width: 10rem !important;
    margin: 0.5rem 0 0 0 !important;
    margin-bottom: 0 !important;
    vertical-align: middle !important;
  }

  /* Distance input container - direct child relative div */
  .range-fuel-inputs > div.grid > div.relative {
    display: inline-block !important;
    width: 12rem !important;
    margin: 0.5rem 0.5rem 0 0 !important;
    vertical-align: middle !important;
  }

  .range-fuel-inputs > div.grid > div.relative input {
    width: 100% !important;
  }

  /* Regular inputs in Range & Fuel */
  .range-fuel-inputs input:not(.relative input) {
    display: inline-block !important;
    width: 12rem !important;
    margin: 0.5rem 0.5rem 0 0 !important;
    vertical-align: middle !important;
  }

  /* Selects in Range & Fuel */
  .range-fuel-inputs select {
    display: inline-block !important;
    width: 6rem !important;
    margin: 0.5rem 0 0 0 !important;
    vertical-align: middle !important;
  }

  /* Nested grid for input+select combos in Range & Fuel */
  .range-fuel-inputs .grid .grid {
    display: inline-block !important;
    grid-template-columns: none !important;
    width: auto !important;
    margin: 0.5rem 0 0 0 !important;
    vertical-align: middle !important;
  }

  .range-fuel-inputs .grid .grid > * {
    display: inline-block !important;
    vertical-align: middle !important;
    margin: 0 !important;
  }

  .range-fuel-inputs .grid .grid input {
    width: 12rem !important;
    margin-right: 0.5rem !important;
  }

  .range-fuel-inputs .grid .grid select {
    width: 6rem !important;
  }

  .range-fuel-inputs .mb-4 {
    margin-bottom: 0.75rem !important;
  }


  /* Hide gap elements */
  .hidden {
    display: none !important;
  }

  /* Force line break elements in print */
  .print\:block {
    display: block !important;
  }

  .print\:w-full {
    width: 100% !important;
  }

  .print\:h-0 {
    height: 0 !important;
  }


  /* Results sections: use compact 2-column layout */
  .results-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  /* Force primary results to 2 columns */
  .primary-results-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  /* Force distance calculator results to 2 columns (50% each) */
  .print\:grid-cols-2 {
    grid-template-columns: repeat(2, 1fr) !important;
    display: grid !important;
  }

  /* Map styles for print */
  .print\:h-\[320px\] {
    height: 320px !important;
  }

  .print\:border {
    border-width: 1px !important;
  }

  .print\:border-gray-400 {
    border-color: #9ca3af !important;
  }

  /* Ensure leaflet map container renders in print */
  .leaflet-container {
    background: white !important;
  }

  /* Ensure leaflet controls are hidden in print */
  .leaflet-control-zoom,
  .leaflet-control-attribution {
    display: none !important;
  }

  /* Distance calculator print optimizations */
  .print\:mb-1 {
    margin-bottom: 0.25rem !important;
  }

  .print\:mb-2 {
    margin-bottom: 0.5rem !important;
  }

  .print\:mb-3 {
    margin-bottom: 0.75rem !important;
  }

  .print\:mb-4 {
    margin-bottom: 1rem !important;
  }

  .print\:pb-3 {
    padding-bottom: 0.75rem !important;
  }

  .print\:text-sm {
    font-size: 0.875rem !important;
  }

  .print\:gap-4 {
    gap: 1rem !important;
  }

  .print\:space-y-0 > * + * {
    margin-top: 0 !important;
  }

  .print\:grid {
    display: grid !important;
  }

  .print\:gap-3 {
    gap: 0.75rem !important;
  }

  .print\:p-4 {
    padding: 1rem !important;
  }

  .print\:text-xs {
    font-size: 0.75rem !important;
  }

  .print\:text-3xl {
    font-size: 1.875rem !important;
  }

  .print\:mb-0 {
    margin-bottom: 0 !important;
  }

  .print\:mt-4 {
    margin-top: 1rem !important;
  }

  .print\:mt-3 {
    margin-top: 0.75rem !important;
  }

  .print\:p-3 {
    padding: 0.75rem !important;
  }

  /* Last element in print - cut everything after this */
  .print-last-element {
    page-break-after: avoid !important;
    page-break-inside: avoid !important;
  }

  .print-last-element ~ * {
    display: none !important;
  }

  /* Also hide everything after main in print */
  @page {
    margin: 0.5in;
  }

  main ~ * {
    display: none !important;
  }

  /* Prevent extra pages */
  html, body {
    overflow: hidden !important;
    height: auto !important;
  }

  body::after {
    content: none !important;
  }

  /* Page breaks */
  .print-page-break-before {
    page-break-before: always !important;
    break-before: page !important;
  }

  /* Page break before climb data if it has content */
  .climb-data:not(.print\:hidden) {
    page-break-before: always !important;
    break-before: page !important;
  }

  /* Page break before descent data if it has content */
  .descent-data:not(.print\:hidden) {
    page-break-before: always !important;
    break-before: page !important;
  }

  /* Avoid breaking inside result cards */
  .print-avoid-break {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  /* Adjust text colors for print */
  * {
    color: black !important;
    border-color: #666 !important;
  }

  /* Keep backgrounds minimal - target divs with these Tailwind classes */
  [class*="bg-slate"] {
    background: white !important;
  }

  /* Only add subtle borders to result cards */
  [class*="from-sky-500"],
  [class*="from-emerald-500"] {
    border: 1px solid #ddd !important;
  }

  /* Remove borders from section dividers */
  [class*="border-b"] {
    border-bottom: 1px solid #ddd !important;
  }

  /* Optimize page breaks */
  .main-container {
    page-break-inside: avoid;
  }

  /* Reduce header size */
  h1 {
    font-size: 1.5rem !important;
  }

  h2 {
    font-size: 1.25rem !important;
  }

  h3 {
    font-size: 1rem !important;
  }

  /* Remove shadows and blur effects */
  * {
    box-shadow: none !important;
    backdrop-filter: none !important;
  }

  /* Make sure inputs show their values */
  input {
    border: 1px solid #999 !important;
    background: white !important;
  }

  /* Compact spacing */
  .space-y-6 > * + * {
    margin-top: 1rem !important;
  }

  /* Icon container smaller */
  .w-16.h-16 {
    width: 2rem !important;
    height: 2rem !important;
  }

  .w-9.h-9 {
    width: 1.25rem !important;
    height: 1.25rem !important;
  }

  /* Remove borders and shadows from main container */
  main > div {
    padding: 1rem !important;
    border: none !important;
    box-shadow: none !important;
    background: white !important;
  }

  /* Remove all borders from containers */
  main {
    border: none !important;
  }

  /* Ensure labels stay visible */
  label {
    color: black !important;
  }

  /* Tooltips hidden in print */
  [role="tooltip"],
  .tooltip {
    display: none !important;
  }

  /* Make grid gaps smaller */
  .gap-x-4 {
    column-gap: 0.75rem !important;
  }

  .gap-y-4 {
    row-gap: 0.5rem !important;
  }

  /* Reduce text sizes for better fit */
  .text-lg {
    font-size: 0.9rem !important;
  }

  .text-xl {
    font-size: 1rem !important;
  }

  .text-2xl {
    font-size: 1.1rem !important;
  }

  /* Remove rounded corners for cleaner print */
  * {
    border-radius: 0 !important;
  }

  /* Keep max-width but center content */
  .max-w-4xl {
    max-width: 100% !important;
  }

  /* Waypoints table - reduce font size to prevent wrapping */
  table {
    font-size: 0.75rem !important;
  }

  table th,
  table td {
    padding: 0.3rem 0.4rem !important;
  }

  table th {
    font-size: 0.65rem !important;
  }

  /* Ensure table borders are visible in print */
  table,
  table th,
  table td {
    border-color: #444 !important;
  }
}
